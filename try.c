#include <stdio.h>
#include <stdlib.h>

#define ElementType int
#define SIZE 20
double destination[SIZE][SIZE] = {
        {10000, 75,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {55,    10000, 15,    10000, 100,   10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 45,    10000, 75,    15,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 75,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 100,   35,    10000, 10000, 110,   135,   10000, 10000, 10000, 10000, 10000, 10000, 75,    10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 110,   10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 225,   10000, 185,   65,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 125,   10000, 45,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 45},
        {10000, 10000, 10000, 10000, 10000, 10000, 35,    75,    10000, 45,    35,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 55,    10000, 35,    10000, 10000, 45,    10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 35,    25,    10000, 25,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 25,    10000, 25,    10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 25,    10000, 25,    15,    10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 10000, 75,    10000, 10000, 10000, 10000, 10000, 45,    10000, 10000, 45,    10000, 10000, 10000, 10000, 10000, 10000, 10000},
        {10000, 10000, 25,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 25,    10000, 10000, 15,    15,    10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 25,    10000, 15,    10000, 10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 15,    15,    10000, 15,    10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 35,    10000, 55,    10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 55,    10000, 10000},
        {10000, 10000, 10000, 10000, 10000, 10000, 10000, 45,    10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000}

};//路程矩阵
typedef struct GraphNode {
    double G[SIZE][SIZE];

} Graph;

void Floyd(Graph *graph, int Nv, double D[][SIZE], ElementType path[][SIZE]) {
    int i, j, k;
    for (i = 0; i < Nv; i++) {
        for (j = 0; j < Nv; j++) {
            D[i][j] =destination[i][j];
//            D[i][j] = graph->G[i][j];
            path[i][j] = -1;
        }
    }
    for (k = 0; k < Nv; k++) {
        for (i = 0; i < Nv; i++) {
            for (j = 0; j < Nv; j++) {

                if (D[i][k] + D[k][j] < D[i][j]) {
                    D[i][j] = D[i][k] + D[k][j];
                    path[i][j] = k;
                }

            }
        }
    }
    //输出结果路径，也可以输出D[][]
    for (i = 0; i < Nv; i++) {
        for (j = 0; j < Nv; j++) {
            printf("%d ", path[i][j]);
        }
        printf("\n");
    }

}

int main() {
    int n, m;
    scanf("%d %d", &n, &m);
//    int start, end, value;
    Graph *graph = (Graph *) malloc(sizeof(Graph));
    double D[SIZE][SIZE];
    int path[SIZE][SIZE];
//    for (int i = 0; i < n; i++) {
//        for (int j = 0; j < n; j++) {
//            graph->G[i][j] = 11111;
//            if (i == j) graph->G[i][j] = 0;
//        }
//    }
//    for (int i = 0; i < m; i++) {
//        scanf("%d %d %d", &start, &end, &value);
//        graph->G[start][end] = value;
//    }
    Floyd(graph, n, D, path);


    return 0;
}